<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRE.Space | Control Plane</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="./main.js" defer></script>
</head>

<body class="text-slate-200 font-sans tracking-tight min-h-screen">

    <!-- Initialization Overlay -->
    <div id="init-overlay"
        class="fixed inset-0 z-[100] bg-[#0D0D0D] flex items-center justify-center transition-opacity duration-700">
        <div class="max-w-md w-full p-8 liquid-glass text-center space-y-8">
            <div class="flex justify-center">
                <div
                    class="w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center animate-pulse-glow border border-blue-400/30">
                    <i data-lucide="zap" class="text-blue-400 w-8 h-8"></i>
                </div>
            </div>

            <div id="init-steps" class="space-y-6">
                <div id="step-1" class="step-active flex flex-col items-center">
                    <h3 class="text-xl font-bold text-white mb-2 tracking-tight">Step 1: Telemetry Injection</h3>
                    <p class="text-slate-400 text-sm">Synchronizing with OTLP Port 4317...</p>
                    <div class="mt-4 w-full bg-white/5 h-1 rounded-full overflow-hidden">
                        <div id="step-1-progress" class="h-full bg-blue-500 w-0 transition-all duration-1000"></div>
                    </div>
                </div>

                <div id="step-2" class="step-hidden flex flex-col items-center">
                    <h3 class="text-xl font-bold text-white mb-2 tracking-tight">Step 2: Control Link Established</h3>
                    <p class="text-slate-400 text-sm" id="step-2-url">Linking Registry to Brain Agent...</p>
                    <div class="mt-4 flex justify-center space-x-2">
                        <i data-lucide="server" class="w-5 h-5 text-blue-400"></i>
                        <div class="w-12 h-[2px] bg-blue-500/30 mt-2.5 animate-pulse"></div>
                        <i data-lucide="brain" class="w-5 h-5 text-indigo-400"></i>
                    </div>
                </div>

                <div id="step-3" class="step-hidden flex flex-col items-center">
                    <h3 class="text-xl font-bold text-green-400 mb-2 tracking-tight">Step 3: Space Confirmed</h3>
                    <p class="text-slate-400 text-sm">Control Plane is now autonomously observing your production
                        infrastructure.</p>
                    <button id="launch-button"
                        class="mt-6 px-8 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-full font-bold transition-all transform hover:scale-105">
                        INITIALIZE CONTROL
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="sticky top-0 z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex items-center justify-between p-4 liquid-glass">
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <i data-lucide="activity" class="text-blue-400 w-6 h-6"></i>
                    <h1 class="text-xl font-bold text-white tracking-widest uppercase">SRE.SPACE</h1>
                </div>
                <div id="stack-logo-container" class="border-l border-white/10 pl-4 flex items-center space-x-3">
                    <!-- Dynamic Stack Logo -->
                    <i id="stack-icon" data-lucide="cloud" class="w-5 h-5 text-slate-400"></i>
                    <span class="text-xs font-mono text-slate-500 uppercase tracking-tighter"
                        id="header-env-badge">CLOUD_MODE</span>
                </div>
            </div>

            <div class="flex items-center space-x-6">
                <!-- Status -->
                <div class="flex items-center space-x-3 bg-white/5 px-4 py-1.5 rounded-full border border-white/10">
                    <div id="global-status-indicator"
                        class="w-2 h-2 rounded-full bg-green-400 animate-pulse status-glow-green"></div>
                    <span id="global-status-text"
                        class="text-[10px] font-bold text-slate-300 uppercase tracking-widest">NOMINAL_STATE</span>
                </div>

                <nav class="hidden md:flex items-center space-x-6 text-sm font-medium">
                    <a href="/about" id="about-link" class="text-slate-400 hover:text-white transition-colors">ABOUT</a>
                    <a href="https://github.com/mohammedsalmanj/sre.space-cp" target="_blank"
                        class="text-slate-400 hover:text-white transition-colors"><i data-lucide="github"
                            class="w-5 h-5"></i></a>
                </nav>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-4 grid grid-cols-1 lg:grid-cols-4 gap-6">

        <!-- Left Column: Observability Map -->
        <div class="lg:col-span-1 space-y-6">

            <!-- Infrastructure Context -->
            <section class="liquid-glass p-6 animate-slide-up">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest">INFRA_STRATUM</h2>
                    <i data-lucide="database" class="w-4 h-4 text-slate-500"></i>
                </div>
                <div class="space-y-5">
                    <div class="flex justify-between items-center group">
                        <span class="text-[11px] text-slate-500 font-bold uppercase">Provider</span>
                        <div class="flex items-center space-x-2">
                            <i data-lucide="server" class="w-4 h-4 text-blue-400"></i>
                            <span class="text-sm font-mono text-white" id="provider-badge">DETECTION...</span>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-[11px] text-slate-500 font-bold uppercase">Memory DB</span>
                        <span class="text-sm font-mono text-white" id="vector-db-badge">-</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-[11px] text-slate-500 font-bold uppercase">Latency</span>
                        <span class="text-sm font-mono text-[#00D1FF]" id="latency-val">-- ms</span>
                    </div>
                </div>
            </section>

            <!-- Active Agents -->
            <section class="liquid-glass p-6 animate-slide-up" style="animation-delay: 0.1s">
                <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-6">AGENT_SQUAD</h2>
                <div class="space-y-4">
                    <div
                        class="flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 transition-all hover:bg-white/10">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 rounded-full bg-blue-500" id="agent-scout-status"></div>
                            <span class="text-xs font-bold text-slate-200 uppercase">Scout</span>
                        </div>
                        <i data-lucide="eye" class="w-4 h-4 text-slate-500"></i>
                    </div>
                    <div
                        class="flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 transition-all hover:bg-white/10">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 rounded-full bg-indigo-500" id="agent-brain-status"></div>
                            <span class="text-xs font-bold text-slate-200 uppercase">Brain</span>
                        </div>
                        <i data-lucide="zap" class="w-4 h-4 text-slate-500"></i>
                    </div>
                    <div
                        class="flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 transition-all hover:bg-white/10">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 rounded-full bg-green-500" id="agent-fixer-status"></div>
                            <span class="text-xs font-bold text-slate-200 uppercase">Fixer</span>
                        </div>
                        <i data-lucide="tool" class="w-4 h-4 text-slate-500"></i>
                    </div>
                </div>
            </section>

            <!-- Chaos Lab -->
            <section class="liquid-glass p-6 animate-slide-up" style="animation-delay: 0.2s">
                <h2 class="text-xs font-bold text-red-400 uppercase tracking-widest mb-6 flex items-center">
                    <i data-lucide="flame" class="w-4 h-4 mr-2"></i> CHAOS_LAB
                </h2>
                <div class="space-y-3">
                    <button onclick="window.triggerChaos('AWS_EC2_DISK_FULL')"
                        class="w-full text-left px-4 py-2 hover:bg-red-500/10 border border-white/5 rounded text-[11px] font-bold uppercase tracking-tighter text-slate-300 transition-all flex justify-between items-center group">
                        <span>EBS_EXHAUSTION</span>
                        <i data-lucide="plus" class="w-3 h-3 opacity-0 group-hover:opacity-100"></i>
                    </button>
                    <button onclick="window.triggerChaos('K8S_POD_CRASH')"
                        class="w-full text-left px-4 py-2 hover:bg-orange-500/10 border border-white/5 rounded text-[11px] font-bold uppercase tracking-tighter text-slate-300 transition-all flex justify-between items-center group">
                        <span>POD_CRASH_LOOP</span>
                        <i data-lucide="plus" class="w-3 h-3 opacity-0 group-hover:opacity-100"></i>
                    </button>
                    <button id="local-init-button"
                        class="hidden w-full mt-4 py-2 px-4 bg-green-600/20 border border-green-500/30 text-green-400 rounded text-[11px] font-bold uppercase tracking-widest hover:bg-green-600/40 transition-all">
                        INIT_OPERATIONAL_PHASE
                    </button>
                </div>
            </section>
        </div>

        <!-- Center/Right: Sensory Control Center -->
        <div class="lg:col-span-3 space-y-6 flex flex-col">

            <section class="liquid-glass flex-1 flex flex-col min-h-[600px] animate-slide-up"
                style="animation-delay: 0.3s">
                <div class="flex justify-between items-center p-6 border-b border-white/5">
                    <div class="flex flex-col">
                        <h2 class="text-sm font-bold text-white uppercase tracking-[0.2em] mb-1">Sensory Command Center
                        </h2>
                        <p class="text-[10px] text-slate-500 font-mono tracking-tighter uppercase">Real-time Autonomous
                            Decision Stream</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div id="sse-indicator"
                            class="text-[9px] font-mono font-bold px-3 py-1 rounded-full bg-white/5 text-slate-500 border border-white/10 uppercase tracking-widest">
                            OFFLINE</div>
                        <button onclick="window.clearLogs()" class="text-white hover:text-red-400 transition-colors">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>

                <div id="logs-container" class="p-6 flex-1 overflow-y-auto font-mono text-xs space-y-2 bg-black/20">
                    <div class="text-slate-600 italic">SYSTEM_IDLE: Synchronizing OODA cognitive shards...</div>
                </div>
            </section>

            <!-- Bottom Credits -->
            <footer class="liquid-glass p-6 text-center animate-slide-up" style="animation-delay: 0.4s">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="text-left mb-4 md:mb-0">
                        <h3 class="text-white font-bold tracking-widest text-lg uppercase">Mohammed Salman</h3>
                        <p class="text-blue-400 text-[10px] font-bold uppercase tracking-[0.3em]">SRE Â· AIOps Engineer
                        </p>
                        <p class="text-slate-500 text-[9px] mt-1 font-mono uppercase tracking-tighter">Reasoning for
                            High-Scale Reliability.</p>
                    </div>
                    <div class="flex space-x-6">
                        <a href="https://github.com/mohammedsalmanj" target="_blank"
                            class="br-github text-slate-500 transition-all transform hover:scale-125">
                            <i data-lucide="github" class="w-6 h-6"></i>
                        </a>
                        <a href="https://linkedin.com/in/mohammedsalmanj" target="_blank"
                            class="br-linkedin text-slate-500 transition-all transform hover:scale-125">
                            <i data-lucide="linkedin" class="w-6 h-6"></i>
                        </a>
                    </div>
                </div>
            </footer>
        </div>
    </main>

    <script>
        // Init Lucide Icons
        window.onload = () => lucide.createIcons();
    </script>
</body>

</html>