{
  "name": "docker-compose.yml",
  "path": "docker-compose.yml",
  "sha": "5eacd830f17cf2f93217658beeeaa56195c2cac2",
  "size": 4986,
  "url": "https://api.github.com/repos/mohammedsalmanj/sre.space-cp/contents/docker-compose.yml?ref=main",
  "html_url": "https://github.com/mohammedsalmanj/sre.space-cp/blob/main/docker-compose.yml",
  "git_url": "https://api.github.com/repos/mohammedsalmanj/sre.space-cp/git/blobs/5eacd830f17cf2f93217658beeeaa56195c2cac2",
  "download_url": "https://raw.githubusercontent.com/mohammedsalmanj/sre.space-cp/main/docker-compose.yml",
  "type": "file",
  "content": "{\n  \"name\": \"docker-compose.yml\",\n  \"path\": \"docker-compose.yml\",\n  \"sha\": \"a9e172d9663f435d829cca7e942114652cda9450\",\n  \"size\": 3754,\n  \"url\": \"https://api.github.com/repos/mohammedsalmanj/sre.space-cp/contents/docker-compose.yml?ref=main\",\n  \"html_url\": \"https://github.com/mohammedsalmanj/sre.space-cp/blob/main/docker-compose.yml\",\n  \"git_url\": \"https://api.github.com/repos/mohammedsalmanj/sre.space-cp/git/blobs/a9e172d9663f435d829cca7e942114652cda9450\",\n  \"download_url\": \"https://raw.githubusercontent.com/mohammedsalmanj/sre.space-cp/main/docker-compose.yml\",\n  \"type\": \"file\",\n  \"content\": \"version: '3.8'\\n\\nservices:\\n  # --- INFRASTRUCTURE ---\\n  kafka:\\n    image: apache/kafka:latest\\n    ports:\\n      - \\\"9092:9092\\\"\\n    environment:\\n      - KAFKA_NODE_ID=1\\n      - KAFKA_PROCESS_ROLES=broker,controller\\n      - KAFKA_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093\\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092\\n      - KAFKA_CONTROLLER_LISTENER_NAMES=CONTROLLER\\n      - KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\\n      - KAFKA_CONTROLLER_QUORUM_VOTERS=1@kafka:9093\\n      - KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1\\n      - KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1\\n      - KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1\\n      - KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0\\n      - KAFKA_NUM_PARTITIONS=3\\n    healthcheck:\\n      test: [ \\\"CMD-SHELL\\\", \\\"/opt/kafka/bin/kafka-broker-api-versions.sh --bootstrap-server localhost:9092\\\" ]\\n      interval: 10s\\n      timeout: 10s\\n      retries: 5\\n\\n  jaeger:\\n    image: jaegertracing/all-in-one:latest\\n    ports:\\n      - \\\"16686:16686\\\"\\n      - \\\"4317:4317\\\"\\n    environment:\\n      - COLLECTOR_OTLP_ENABLED=true\\n\\n  otel-collector:\\n    image: otel/opentelemetry-collector-contrib:latest\\n    volumes:\\n      - ./infra/otel-config.yaml:/etc/otelcol-contrib/config.yaml\\n    ports:\\n      - \\\"4318:4318\\\"\\n    environment:\\n      - NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}\\n    depends_on:\\n      - jaeger\\n\\n  chromadb:\\n    image: chromadb/chroma:latest\\n    ports:\\n      - \\\"8000:8000\\\"\\n    volumes:\\n      - chroma-data:/chroma/data\\n\\n  # --- MICROSERVICES ---\\n  quote-service:\\n    build: ./apps/quote-service\\n    ports:\\n      - \\\"8001:8001\\\"\\n    environment:\\n      - KAFKA_BOOTSTRAP_SERVERS=kafka:9092\\n      - OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317\\n    depends_on:\\n      kafka:\\n        condition: service_healthy\\n\\n  policy-service:\\n    build: ./apps/policy-service\\n    ports:\\n      - \\\"8002:8002\\\"\\n    environment:\\n      - KAFKA_BOOTSTRAP_SERVERS=kafka:9092\\n      - OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317\\n    depends_on:\\n      kafka:\\n        condition: service_healthy\\n\\n  user-service:\\n    build: ./apps/user-service\\n    ports:\\n      - \\\"8003:8003\\\"\\n    environment:\\n      - OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317\\n    depends_on:\\n      - otel-collector\\n\\n  frontend:\\n    build: ./apps/frontend\\n    ports:\\n      - \\\"3001:80\\\"\\n    depends_on:\\n      - quote-service\\n\\n  # --- AGENTS (Final Unified Build) ---\\n  scout:\\n    build:\\n      context: .\\n      dockerfile: ./agents/Dockerfile\\n    dns:\\n      - 8.8.8.8\\n    command: [ \\\"python\\\", \\\"agents/scout.py\\\" ]\\n    environment:\\n      - GITHUB_PERSONAL_ACCESS_TOKEN=${GITHUB_PERSONAL_ACCESS_TOKEN}\\n      - KAFKA_BOOTSTRAP_SERVERS=kafka:9092\\n    depends_on:\\n      kafka:\\n        condition: service_healthy\\n    volumes:\\n      - history_data:/app/shared/history\\n      - .:/app\\n\\n  brain:\\n    build:\\n      context: .\\n      dockerfile: ./agents/Dockerfile\\n    dns:\\n      - 8.8.8.8\\n    command: [ \\\"python\\\", \\\"agents/brain.py\\\" ]\\n    env_file: .env\\n    volumes:\\n      - /var/run/docker.sock:/var/run/docker.sock\\n      - history_data:/app/shared/history\\n      - .:/app\\n\\n  memory:\\n    build:\\n      context: .\\n      dockerfile: ./agents/Dockerfile\\n    dns:\\n      - 8.8.8.8\\n    command: [ \\\"python\\\", \\\"agents/memory.py\\\" ]\\n    env_file: .env\\n    depends_on:\\n      - chromadb\\n    volumes:\\n      - history_data:/app/shared/history\\n      - .:/app\\n\\n  fixer:\\n    build:\\n      context: .\\n      dockerfile: ./agents/Dockerfile\\n    dns:\\n      - 8.8.8.8\\n    command: [ \\\"python\\\", \\\"agents/fixer.py\\\" ]\\n    env_file: .env\\n    volumes:\\n      - /var/run/docker.sock:/var/run/docker.sock\\n      - .:/app/monorepo\\n      - history_data:/app/shared/history\\n      - .:/app\\n    depends_on:\\n      - brain\\n\\nvolumes:\\n  chroma-data:\\n  history_data:\\n\",\n  \"encoding\": \"base64\",\n  \"_links\": {\n    \"self\": \"https://api.github.com/repos/mohammedsalmanj/sre.space-cp/contents/docker-compose.yml?ref=main\",\n    \"git\": \"https://api.github.com/repos/mohammedsalmanj/sre.space-cp/git/blobs/a9e172d9663f435d829cca7e942114652cda9450\",\n    \"html\": \"https://github.com/mohammedsalmanj/sre.space-cp/blob/main/docker-compose.yml\"\n  }\n}\n\n# Auto-Fix applied for Incident #184 at Wed Jan  7 08:49:06 2026\n",
  "encoding": "base64",
  "_links": {
    "self": "https://api.github.com/repos/mohammedsalmanj/sre.space-cp/contents/docker-compose.yml?ref=main",
    "git": "https://api.github.com/repos/mohammedsalmanj/sre.space-cp/git/blobs/5eacd830f17cf2f93217658beeeaa56195c2cac2",
    "html": "https://github.com/mohammedsalmanj/sre.space-cp/blob/main/docker-compose.yml"
  }
}

# Auto-Fix applied for Incident #186 at Wed Jan  7 08:53:36 2026
